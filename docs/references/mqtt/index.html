<!doctype html><html lang=en-US><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><style>/* latin */
    @font-face {
      font-family: 'Rubik';
      font-style: normal;
      font-weight: 400;
      src: url(/fonts/rubik.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }

    * {
      font-family: "Rubik";
    }</style><link href=/css/line-awesome.min.css rel=stylesheet><link href=/asciinema-player.css rel=stylesheet><link as=font crossorigin=anonymous href=https://joinbase.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=https://joinbase.io/fonts/vendor/jost/jost-v4-latin-700.woff2 rel=preload type=font/woff2><link href=https://joinbase.io/main.css rel=stylesheet><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>MQTT Interface | JoinBase</title><meta content="JoinBase, a single-binary AIoT-first data-service platform." name=description><link href=https://joinbase.io/docs/references/mqtt/ rel=canonical><meta content="MQTT Interface" property=og:title><meta content="JoinBase, a single-binary AIoT-first data-service platform." property=og:description><meta content=article property=og:type><meta content=https://joinbase.io/docs/references/mqtt/ property=og:url><meta content=tb-logo.png property=og:image><meta content=2021-12-01T08:20:00+00:00 property=og:updated_time><meta content="MQTT Interface" property=og:site_name><meta content=en_US property=og:locale><script type=application/ld+json>
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://joinbase.io/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Docs",
            "item": "https://joinbase.io/docs/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "References",
            "item": "https://joinbase.io/docs/references/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Mqtt",
            "item": "https://joinbase.io/docs/references/mqtt/"
          },
        
      
    
  }
</script><meta content=#000 name=theme-color><link href=/joinbase_logo_180.png rel=apple-touch-icon sizes=180x180><link href=/joinbase_logo_32.png rel=icon sizes=32x32 type=image/png><link href=/joinbase_logo_16.png rel=icon sizes=16x16 type=image/png><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" id=menu-btn type=checkbox><label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://joinbase.io>JoinBase</a><button aria-label="Toggle mode" class="btn btn-link order-2 order-md-4" id=mode type=button><span class=toggle-dark><svg class="feather feather-moon" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span> <span class=toggle-light><svg class="feather feather-sun" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=5></circle><line x1=12 x2=12 y1=1 y2=3></line><line x1=12 x2=12 y1=21 y2=23></line><line x1=4.22 x2=5.64 y1=4.22 y2=5.64></line><line x1=18.36 x2=19.78 y1=18.36 y2=19.78></line><line x1=1 x2=3 y1=12 y2=12></line><line x1=21 x2=23 y1=12 y2=12></line><line x1=4.22 x2=5.64 y1=19.78 y2=18.36></line><line x1=18.36 x2=19.78 y1=5.64 y2=4.22></line></svg></span></button><ul class="navbar-nav fork-me order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/open-joinbase/JoinBase><svg class="feather feather-github" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a><li class=nav-item><a class=nav-link href=https://twitter.com/joinbase_db><svg class="feather feather-twitter" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg><span class="ms-2 visually-hidden">Twitter</span></a></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class="nav-item docs active"><a class=nav-link href=https://joinbase.io/docs/getting-started/introduction/>Docs</a><li class=nav-item><a class=nav-link href=https://joinbase.io/products/>Products</a><li class=nav-item><a class=nav-link href=https://joinbase.io/blog/>Blog</a><li class=nav-item><a class=nav-link href=https://joinbase.io/benchmark/>Benchmark</a><li class=nav-item><a class=nav-link href=https://joinbase.io/ranking/>Ranking</a><li class=nav-item><a class=nav-link href=https://joinbase.io/community/>Communities</a></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input aria-label="Search docs..." class="form-control is-search" placeholder="Search docs..." autocomplete=off id=userinput type=search><div class="shadow bg-white rounded" id=suggestions></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav aria-label="Main navigation" class=docs-links><h3>Getting Started</h3><ul class=list-unstyled><li><a class=docs-link href=https://joinbase.io/docs/getting-started/introduction/>Introduction</a><li><a class=docs-link href=https://joinbase.io/docs/getting-started/quick-start-enterprise/>Quick Start for Enterprise</a><li><a class=docs-link href=https://joinbase.io/docs/getting-started/quick-start-cloud/>Quick Start for Cloud</a></ul><h3>Reference</h3><ul class=list-unstyled><li><a class=docs-link href=https://joinbase.io/docs/references/concept/>Concepts</a><li><a class=docs-link href=https://joinbase.io/docs/references/install/>Installation</a><li><a class=docs-link href=https://joinbase.io/docs/references/conf/>Configuration</a><li><a class=docs-link href=https://joinbase.io/docs/references/mgmt/>Management</a><li><a class=docs-link href=https://joinbase.io/docs/references/lang/>Language</a><li><a class=docs-link href=https://joinbase.io/docs/references/topics/>Topics</a><li><a class=docs-link href=https://joinbase.io/docs/references/mapping/>Payload Mapping</a><li><a class="docs-link active" href=https://joinbase.io/docs/references/mqtt/>MQTT Interface</a><li><a class=docs-link href=https://joinbase.io/docs/references/http/>HTTP Interface</a><li><a class=docs-link href=https://joinbase.io/docs/references/websocket/>WebSocket Interface</a><li><a class=docs-link href=https://joinbase.io/docs/references/postgresql/>PostgreSQL Interface</a><li><a class=docs-link href=https://joinbase.io/docs/references/extensions/>Extensions</a><li><a class=docs-link href=https://joinbase.io/docs/references/performance/>Performance Tips</a><li><a class=docs-link href=https://joinbase.io/docs/references/ha/>High Availability</a><li><a class=docs-link href=https://joinbase.io/docs/references/advanced/>Advanced Features</a><li><a class=docs-link href=https://joinbase.io/docs/references/glossary/>Glossary</a></ul></nav></div><nav aria-label="Secondary navigation" class="docs-toc d-none d-xl-block col-xl-3"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=https://joinbase.io/docs/references/mqtt/#working-modes>Working Modes</a><li><a href=https://joinbase.io/docs/references/mqtt/#mqtt-message-to-table-mapping>MQTT Message to Table Mapping</a></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-10"><h1>MQTT Interface</h1><p class=lead>JoinBase can be used as a high performance MQTT broker.<p>A built-in MQTT broker capacity is implemented in JoinBase. So,<ol><li>IoT devices just send MQTT messages to JoinBase server,<li>JoinBase will store data reliably for you,<li>And then you can subscribe to that topic/table in other devices.<li>Finally, you can do fastest real-time IoT data analysis on top of stored bigdata via an easy SQL compatible language.<li>In the same time, you can use the JoinBase a high performance MQTT broker for routing messages to other subscribers as well.</ol><h3 id=working-modes>Working Modes</h3><p>There are two common working modes or scenarios for JoinBase:<ol><li>Connections from direct MQTT clients on kinds of IoT devices.</ol><p><strong>This mode is highly recommended</strong> because we support the top performance in world record level all-in-one product.<p>If you want to use existed brokers, you can start two connections in your device to connect: one for your broker and one for the JoinBase.<ol start=2><li>Connections from MQTT brokers on the bridge mode.</ol><p>If the above direct connection mode cannot be achieved immediately, you can use this working mode. We provide an excellent dedicated MQTT bridge. We also provide an dedicated MQTT bridge for existing users, who want to explore the JoinBase without making any changes to your existing architectures.<blockquote><p>🔍<p>Please note that the message writing performance will be highly limited by your front-end broker, usually by orders of magnitude lower.</blockquote><ol><li>MQTT Bridge Config</ol><blockquote><p>Get a helpfull information.</blockquote><pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#bf616a;>$</span><span> oibb</span><span style=color:#bf616a;> --help
</span></code></pre><blockquote><p>There is a template configuration file base TOML under the <code>config</code> directory, which can be modified as needed.</blockquote><pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#bf616a;>$</span><span> vim ./config/bridge.toml
</span></code></pre><ol start=2><li>MQTT Bridge Run</ol><blockquote><p>You can change the log output level by setting <code>BASE_LOG</code> environment variable.</blockquote><pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#bf616a;>$</span><span> BASE_LOG=info oibb</span><span style=color:#bf616a;> --config</span><span> ./config/bridge.toml
</span></code></pre><h3 id=mqtt-message-to-table-mapping>MQTT Message to Table Mapping</h3><p>In JoinBase, we have made the <code>Topic</code> concept in MQTT and the <code>Table</code> concept in database exchangeable. In order for the message to be correctly stored in the appropriate database table, we have made the following conventions:<table><thead><tr><th style="text-align: left">Table<th style="text-align: left">MQTT Message<tbody><tr><td style="text-align: left">db_name.table_name<td style="text-align: left">(3.1.1) topic: /db_name/table_name <br> (5.0) user properties: { "JoinBase.database": "db_name", "JoinBase.table": "table_name"}<tr><td style="text-align: left">fields<td style="text-align: left">Payload. <br> JoinBase supports <a href=/docs/references/mapping/>a payload mapping mechanism</a> for mapping the payload to the database table.</table><div class="docs-navigation d-flex justify-content-between"><a href=https://joinbase.io/docs/getting-started/quick-start-cloud/> <div class="card my-1"><div class="card-body py-2">← Quick Start for Cloud</div></div> </a></div></main></div></div></div><footer class="site-footer text-muted"><div class=container><div class=row><div class="d-flex justify-content-between"><div class="col-sm-12 col-md-6"><h5>JoinBase</h5><p class=text-justify>A single-binary AIoT-first data-service platform.</div><div class="col-xs-6 col-md-2"></div><div class="col-xs-6 col-md-2"><h6>JoinBase</h6><ul class=footer-links><li><a href=#>Cloud</a><li><a href=/blog/>Blog</a><li><a href=/careers/>Careers</a><li><a href=/contact/>Contact</a><li><a href=/request/>Request</a></ul></div><div class="col-xs-6 col-md-2"><h6>Community</h6><ul class=footer-links><li><a href=https://github.com/open-joinbase/joinbase>GitHub</a><li><a href=https://www.youtube.com/channel/UCGCDg4je1pCTrtqU4dHiO1A>YouTube</a><li><a href=https://discord.gg/sqX6vfnURj>Discord</a><li><a href=https://twitter.com/joinbase_db>Twitter</a><li><a href=/community/>Communities</a></ul></div><div class="col-xs-6 col-md-2"><h6>More</h6><ul class=footer-links><li><a href=/docs/getting-started/>Get Started</a><li><a href=/docs/getting-started/introduction/>Documentation</a><li><a href=/benchmark/>Benchmark</a><li><a href=/docs/getting-started/tutorials/>Tutorials</a><li><a href=/community/>Community</a></ul></div></div></div></div><div class=container><div class="d-flex justify-content-between"><div><p class=copyright-text>Copyright © 2021 - 2022 <a href=#>JoinBase</a></div><div><p class=copyright-text><a href=/privacy-policy/>Privacy</a></div></div></div><script src="https://www.googletagmanager.com/gtag/js?id=G-6P71GFWL9M" async></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6P71GFWL9M');</script></footer><script defer src=https://joinbase.io/js/main.js></script><script defer src=https://joinbase.io/plugins/elasticlunr.min.js></script><script defer src=https://joinbase.io/search_index.en.js></script><script defer src=https://joinbase.io/js/search.js></script>